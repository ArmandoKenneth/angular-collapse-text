angular.module("ark.collapse-text",[]).directive("collapseText",function(a){return{restrict:"A",link:function(b,c,d){b.isCollapsed=!0,b.toogleCollapse=function(){b.isCollapsed=!b.isCollapsed},d.$observe("collapseTextContent",function(i){if(i){var j=b.$eval(d.collapseTextLength);j||(j=100),b.showText=d.collapseTextShowText,b.showText||(b.showText="Show more"),b.hideText=d.collapseTextHideText,b.hideText||(b.hideText="Show less");var k=d.collapseTextButtonClass;if(k||(k="btn btn-ghost"),i.length>j){var l=i.substring(0,j),m=i.substring(j,i.length),n=a("<span>"+l+"</span><span ng-if='isCollapsed'> ... </span>")(b),o=a("<span ng-if='!isCollapsed'>"+m+"</span>")(b),p=a("<button type='button' class='"+k+"' ng-click='toogleCollapse()'>{{isCollapsed ? showText : hideText }}</button>")(b);c.empty(),c.append(n),c.append(o),c.append("<br>"),c.append(p)}else c.empty(),c.append(i)}})}}});