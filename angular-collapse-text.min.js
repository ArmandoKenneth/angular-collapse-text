angular.module("ark.collapse-text",[]).directive("collapseText",["$compile",function(e){return{restrict:"A",link:function(t,s,l){t.isCollapsed=!0;t.toogleCollapse=function(){t.isCollapsed=!t.isCollapsed},l.$observe("collapseTextContent",function(o){if(o){var n=t.$eval(l.collapseTextLength);n||(n=100),t.showText=l.collapseTextShowText,t.showText||(t.showText="Show more"),t.hideText=l.collapseTextHideText,t.hideText||(t.hideText="Show less");var a=l.collapseTextButtonClass;if(a||(a="btn btn-ghost"),o.length>n){var p=o.substring(0,n),i=o.substring(n,o.length),d=e("<span>"+p+"</span><span ng-if='isCollapsed'> ... </span>")(t),c=e("<span ng-if='!isCollapsed'>"+i+"</span>")(t),x=e("<button type='button' class='"+a+"' ng-click='toogleCollapse()'>{{isCollapsed ? showText : hideText }}</button>")(t);s.empty(),s.append(d),s.append(c),s.append("<br>"),s.append(x)}else s.empty(),s.append(o)}})}}}]);
